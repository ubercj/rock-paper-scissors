<!DOCTYPE html>
<head>
    <title>Rock-Paper-Scissors</title>
</head>
<body>
    <h1 style='text-align:center'>Rock-Paper-Scissors</h1>
    <p>Open your console to play a best-of-5 match against the computer!</p>
    <p>That's Command + Option + J in Chrome</p>
    <p>Or Command + Option + K in Firefox</p>
    <script>
        let playerScore = 0;
        let computerScore = 0;
        let playerSelection = 'Shotgun';

        function computerPlay() {
            let randNum = Math.floor(Math.random() * 3);
            if (randNum === 0) {
                return 'ROCK';
            } else if (randNum === 1) {
                return 'PAPER';
            } else {
                return 'SCISSORS';
            }
        }
        
        function playRound(playerSelection, computerSelection) {
            playerSelection = prompt('Rock, Paper, or Scissors?');
            if (playerSelection.toUpperCase() === 'ROCK') {
                console.log('You chose Rock!');
            } else if (playerSelection.toUpperCase() === 'PAPER') {
                console.log('You chose Paper!');
            } else if (playerSelection.toUpperCase() === 'SCISSORS') {
                console.log('You chose Scissors!');
            } else {
                console.log('What was that?\nRefresh and try again.');
            }
            if (playerSelection.toUpperCase() === 'ROCK') {
                if (computerSelection === 'ROCK') {
                    console.log('Computer plays Rock.');
                    console.log('Tie - you both chose Rock!');
                    } else if (computerSelection === 'PAPER') {
                        console.log('Computer plays Paper.');
                        console.log('Too bad, you lose! Paper covers Rock.');
                        computerScore += 1;
                    } else {
                        console.log('Computer plays Scissors.');
                        console.log('You win! Rock crushes Scissors!');
                        playerScore += 1;
                    }
            } else if (playerSelection.toUpperCase() === 'PAPER') {
                if (computerSelection === 'ROCK') {
                    console.log('Computer plays Rock.');
                    console.log('You win! Paper covers Rock!');
                    playerScore += 1;
                    } else if (computerSelection === 'PAPER') {
                        console.log('Computer plays Paper.');
                        console.log('Tie - you both chose Paper!');
                    } else {
                        console.log('Computer plays Scissors.');
                        console.log('Too bad, you lose! Scissors cut Paper.');
                        computerScore += 1;
                    } 
            } else {
                if (computerSelection === 'ROCK') {
                    console.log('Computer plays Rock.');
                    console.log('Too bad, you lose! Rock crushes Scissors.');
                    computerScore += 1;
                    } else if (computerSelection === 'PAPER') {
                        console.log('Computer plays Paper.');
                        console.log('You win! Scissors cut Paper!');
                        playerScore += 1;
                    } else {
                        console.log('Computer plays Scissors.');
                        console.log('Tie - you both chose Scissors!');
                    }
                }
            console.log('You: ' + playerScore + '.\nComputer: ' + computerScore + '.'); 
            }

        let computerSelection = computerPlay();
        game();

        function game() {
            computerSelection = computerPlay();
            console.log(playRound(playerSelection, computerSelection));
            computerSelection = computerPlay();
            console.log(playRound(playerSelection, computerSelection));
            computerSelection = computerPlay();
            console.log(playRound(playerSelection, computerSelection));
            computerSelection = computerPlay();
            console.log(playRound(playerSelection, computerSelection));
            computerSelection = computerPlay();
            console.log(playRound(playerSelection, computerSelection));
            if (playerScore > computerScore) {
                console.log('Player wins the match!');
            } else if (playerScore == computerScore) {
                console.log('It\'s a tie!');
            } else {
                console.log('Computer wins!');
            }
            console.log('Refresh the page to play again.');
        }


    </script>
</body>